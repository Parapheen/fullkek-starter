<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{{ .AppName }}</title>
    <script src="https://unpkg.com/fixi@0.10.0/dist/fixi.min.js" defer></script>
    <script src="/assets/scripts/fixi.js" defer></script>
    {{- if has "Tailwind" .Stack.Tags }}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.3/dist/tailwind.min.css" integrity="sha384-f+pJ1iYZ1sEusA3rZbYf3J3Gww8dGFe2E+LPRgVat725KuqZwqAtbiESMNXo2o5A" crossorigin="anonymous" />
    {{- end }}
    {{- if has "Basecoat" .Stack.Tags }}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/basecoat-css@0.3.2/dist/basecoat.cdn.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/basecoat-css@0.3.2/dist/js/all.min.js" defer></script>
    {{- end }}
    {{- if has "Tailwind" .Stack.Tags }}
    <link rel="stylesheet" href="/assets/styles/output.css" />
    {{- end }}
  </head>
  <body data-fx-controller="page">
    <header>
      <nav>
        <a href="/">{{ .AppName }}</a>
        {{- if .Stack.HasFeature "auth-github-oauth2" }}
        <div id="auth-status"><a href="/login">Sign in</a></div>
        {{- end }}
      </nav>
    </header>
    <main>
      <section>
        <h1>{{ .AppName }}</h1>
        <p>A batteries-included Go starter kit for building hypermedia-first apps.</p>
        <div>
          <a class="github-button" href="https://github.com/Parapheen/fullkek-starter" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star Parapheen/fullkek-starter on GitHub">Star</a>
          <script async defer src="https://buttons.github.io/buttons.js"></script>
        </div>
      </section>
      <section>
        <h2>Explore stack documentation</h2>
        <p>Each link opens the corresponding README in the starter repository.</p>
        <div class="cards">
          <a href="https://github.com/Parapheen/fullkek-starter/tree/master/internal/templates/features/auth/github-oauth2">Auth · GitHub OAuth2</a>
          <a href="https://github.com/Parapheen/fullkek-starter/tree/master/internal/templates/features/database/sqlite">Database · SQLite</a>
          <a href="https://github.com/Parapheen/fullkek-starter/tree/master/internal/templates/features/http/chi">HTTP · chi</a>
          <a href="https://github.com/Parapheen/fullkek-starter/tree/master/internal/templates/features/http/standard">HTTP · standard</a>
          <a href="https://github.com/Parapheen/fullkek-starter/tree/master/internal/templates/features/frontend/fixi">Frontend · fixi</a>
          <a href="https://github.com/Parapheen/fullkek-starter/tree/master/internal/templates/features/frontend/htmx">Frontend · htmx</a>
          <a href="https://github.com/Parapheen/fullkek-starter/tree/master/internal/templates/features/styling/daisyui">Styling · daisyUI</a>
          <a href="https://github.com/Parapheen/fullkek-starter/tree/master/internal/templates/features/styling/tailwind">Styling · Tailwind</a>
          <a href="https://github.com/Parapheen/fullkek-starter/tree/master/internal/templates/features/styling/tailwind_basecoat">Styling · Tailwind Basecoat</a>
        </div>
      </section>
    </main>
    <script src="/assets/scripts/csrf.js" defer></script>
    {{- if .Stack.HasFeature "auth-github-oauth2" }}
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var status = document.getElementById("auth-status");
        if (!status) {
          return;
        }
        fetch("/fragments/auth/status", { credentials: "include" })
          .then(function (resp) {
            return resp.text();
          })
          .then(function (html) {
            status.outerHTML = html;
          })
          .catch(function () {});
      });
    </script>
    {{- end }}
  </body>
</html>
